# 텍스트가 뉴스 요청인지, 개인 이야기인지 판단하는 기능

import re

def classify_user_input(text: str) -> str:
    text = text.lower().strip()

    weather_keywords = [
        "날씨", "기온", "비", "기상", "온도", "추워", "더워",
        "눈", "습도", "바람", "태풍", "호우", "소나기", "맑아",
        "흐려", "구름", "천둥", "번개", "미끄러워", "추운지", "더운지",
        "덥니", "춥니", "더위", "추위", "쌀쌀", "따뜻", "선선",
        "습한지", "건조한지", "장마", "우박", "강수량", "일기예보"
    ]

    news_keywords = [
        "뉴스", "속보", "기사", "보도", "이슈", "소식", "정보",
        "알려줘", "뉴스 알려줘", "기사 읽어줘", "소식 전해줘", "헤드라인",
        "최신 소식", "사건", "사고", "정치", "경제", "사회", "문화",
        "스포츠", "국제", "사건사고", "사망", "사고 발생", "정책", "공약",
        "주가", "증시", "부동산", "대통령", "선거", "투표", "전쟁",
        "갈등", "시위", "집회", "데모", "환경", "오염", "미세먼지",
        "초미세먼지", "황사", "대기질", "바이러스", "코로나", "확진자",
        "재난", "사태", "지진", "홍수", "화재", "태풍 피해", "기후변화",
        "북한", "미국", "중국", "일본", "경제위기", "환율", "물가", "인플레이션"
    ]

    story_keywords = [
        "얘기", "이야기", "들려줘", "말해줘", "이야기해줄래",
        "재밌는 얘기", "이야기 하나", "말해줄게", "내가 말할게",
        "옛날 이야기", "동화", "전설", "옛날 얘기", "무서운 얘기",
        "슬픈 얘기", "재미있는 이야기", "웃긴 얘기", "감동적인 이야기",
        "좋은 이야기", "행복한 이야기", "즐거운 이야기", "자기 이야기",
        "추억 이야기", "경험담", "사연", "스토리", "얘기해줘", "들어줘",
        "들려줄까", "썰 풀어줘", "썰 풀게", "썰 들어봐", "나 얘기할래",
        "심심해", "지루해", "놀아줘", "외로워", "한마디 해줘"
    ]

    if any(kw in text for kw in story_keywords):
        return "story"
    if any(kw in text for kw in weather_keywords):
        return "weather"
    if any(kw in text for kw in news_keywords):
        return "news"
    return "invalid"


